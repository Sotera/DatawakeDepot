<div style="padding-bottom: 5px">
    <!-- Team Select-->
    <div class="btn-group">
        <button type="button" data-toggle="dropdown" class="btn btn-primary btn-sm dropdown-toggle">Team:
            {{selectedTeam.name}}
            <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" id="team_select">
            <li ng-repeat="team in teams" ng-click="teamChanged(team)" class="pointer"
                ng-class="{selected : team === selectedTeam}">
                {{team.name}}
            </li>
        </ul>
    </div>
    <!-- Domain Select-->
    <div class="btn-group">
        <button ng-disabled="!selectedTeam" type="button" data-toggle="dropdown" class="btn btn-primary btn-sm dropdown-toggle">Domain:
            {{selectedDomain.name}}
            <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" id="domain_select">
            <li ng-repeat="domain in domains" ng-click="domainChanged(domain)" class="pointer"
                ng-class="{selected : domain === selectedDomain}">
                {{domain.name}}
            </li>
        </ul>
    </div>
    <!--Trail Selection Button-->
    <div class="btn-group">
        <button ng-disabled="!selectedTeam || !selectedDomain" type="button" data-toggle="dropdown" class="btn btn-primary btn-sm dropdown-toggle">Trail:
            {{selectedTrail.name}}
            <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" id="trail_select">
            <li ng-repeat="trail in trails" ng-click="trailChanged(trail)" class="pointer"
                ng-class="{selected : trail === selectedTrail}">
                {{trail.name}}
            </li>
        </ul>
    </div>
    <!-- Views selection -->
    <div class="btn-group">
        <div
                isteven-multi-select
                input-model="views"
                output-model="selectedViews"
                button-label="'Select Entity Types:' name"
                item-label="name"
                tick-property="selected"
                >
        </div>
    </div>
    <!-- Draw Graph -->
    <div class="btn-group">
        <button ng-disabled="!selectedTeam || !selectedDomain || !selectedTrail || !selectedViews.length > 0"
                class="btn btn-success btn-sm" ng-click="drawGraph()">
            <span class="glyphicon glyphicon-edit"></span> Draw Graph
        </button>
    </div>
</div>
<div class="box">
    <div class="box-body no-padding" style="min-height: 120px;">

        <div class="row"></div>
        <tabset class="nav-tabs-custom">
            <tab heading="Graph">
                <div class="row">
                    <svg id=legend height=100% style="position:relative; float: right; pointer-events:none;"></svg>
                    <div id="link-dialog" title="Vertex Details"></div>
                    <div id=node_graph></div>
                    <div id="dialog" title="Highlighted Vertices"></div>

                </div>
            </tab>
            <tab heading="Visited Links">
                <table class="table table-bordered table-striped">
                    <thead>
                    <tr>
                        <td>
                            <a href="#" ng-click="sortType = 'name'; sortReverse = !sortReverse">
                                URL
                                <span ng-show="sortType == 'name' && !sortReverse" class="fa fa-caret-down"></span>
                                <span ng-show="sortType == 'name' && sortReverse" class="fa fa-caret-up"></span>
                            </a>
                        </td>
                        <td>
                            <a href="#" ng-click="sortType = 'ts'; sortReverse = !sortReverse">
                                Timestamp
                                <span ng-show="sortType == 'ts' && !sortReverse" class="fa fa-caret-down"></span>
                                <span ng-show="sortType == 'ts' && sortReverse" class="fa fa-caret-up"></span>
                            </a>
                        </td>
                    </tr>
                    </thead>

                    <tbody>
                    <tr ng-repeat="page in visitedGrid | orderBy:sortType:sortReverse ">
                        <td>{{ page.url }}</td>
                        <td>{{ page.timestamp }}</td>
                        <td>{{ page.dwDomainEntityTypeId }}</td>
                    </tr>
                    </tbody>
                </table>
            </tab>
            <tab heading="Entities">
                <table class="table table-bordered table-striped">
                    <thead>
                    <tr>
                        <td>
                            <a href="#" ng-click="sortType = 'name'; sortReverse = !sortReverse">
                                Entity
                                <span ng-show="sortType == 'name' && !sortReverse" class="fa fa-caret-down"></span>
                                <span ng-show="sortType == 'name' && sortReverse" class="fa fa-caret-up"></span>
                            </a>
                        </td>
                        <td>
                            <a href="#" ng-click="sortType = 'type'; sortReverse = !sortReverse">
                                Type
                                <span ng-show="sortType == 'type' && !sortReverse" class="fa fa-caret-down"></span>
                                <span ng-show="sortType == 'type' && sortReverse" class="fa fa-caret-up"></span>
                            </a>
                        </td>
                        <td>
                            <a href="#" ng-click="sortType = 'count'; sortReverse = !sortReverse">
                                Count
                                <span ng-show="sortType == 'count' && !sortReverse" class="fa fa-caret-down"></span>
                                <span ng-show="sortType == 'count' && sortReverse" class="fa fa-caret-up"></span>
                            </a>
                        </td>
                    </tr>
                    </thead>

                    <tbody>
                    <tr ng-repeat="entity in entitiesGrid | orderBy:sortType:sortReverse ">
                        <td>{{ entity.name }}</td>
                        <td>{{ entity.type }}</td>
                        <td>{{ entity.count }}</td>
                    </tr>
                    </tbody>
                </table>
            </tab>
        </tabset>
    </div>
</div>
